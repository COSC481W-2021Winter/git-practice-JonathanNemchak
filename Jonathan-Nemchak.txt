This is feature 2 implemented in the branch feature2.